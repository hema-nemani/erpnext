[ERROR] 2021-04-02 14:26:36,976 | /home/frappe/frappe-bench/apps/frappe/frappe/app.py:
Site: site1.local
Form Dict: {
 "action": "Save",
 "cmd": "frappe.desk.form.save.savedocs",
 "doc": "{\"name\":\"BGL Point Of Sale\",\"creation\":\"2021-04-02 19:24:35.566254\",\"modified\":\"2021-04-02 19:32:04.216824\",\"modified_by\":\"Administrator\",\"owner\":\"Administrator\",\"docstatus\":0,\"idx\":0,\"issingle\":0,\"is_tree\":0,\"istable\":0,\"editable_grid\":1,\"track_changes\":1,\"module\":\"Custom\",\"autoname\":\"naming_series\",\"name_case\":\"Title Case\",\"sort_field\":\"modified\",\"sort_order\":\"DESC\",\"read_only\":0,\"in_create\":0,\"allow_copy\":0,\"allow_rename\":1,\"allow_import\":1,\"hide_toolbar\":0,\"track_seen\":0,\"max_attachments\":0,\"document_type\":\"\",\"engine\":\"InnoDB\",\"is_submittable\":1,\"show_name_in_global_search\":0,\"custom\":0,\"beta\":0,\"has_web_view\":0,\"allow_guest_to_view\":0,\"quick_entry\":1,\"track_views\":0,\"allow_events_in_timeline\":0,\"allow_auto_repeat\":0,\"show_preview_popup\":0,\"doctype\":\"DocType\",\"fields\":[{\"name\":\"5606b4eb7b\",\"creation\":\"2021-04-02 19:24:35.566254\",\"modified\":\"2021-04-02 19:32:04.216824\",\"modified_by\":\"Administrator\",\"owner\":\"Administrator\",\"docstatus\":0,\"parent\":\"BGL Point Of Sale\",\"parentfield\":\"fields\",\"parenttype\":\"DocType\",\"idx\":1,\"fieldname\":\"naming_series\",\"label\":\"Bill No\",\"fieldtype\":\"Select\",\"options\":\"BGL.-.POS.-.###\",\"search_index\":0,\"hidden\":0,\"set_only_once\":0,\"allow_in_quick_entry\":0,\"print_hide\":0,\"report_hide\":0,\"reqd\":0,\"bold\":0,\"in_global_search\":0,\"collapsible\":0,\"unique\":0,\"no_copy\":0,\"allow_on_submit\":0,\"permlevel\":0,\"ignore_user_permissions\":0,\"columns\":0,\"in_list_view\":0,\"fetch_if_empty\":0,\"in_filter\":0,\"remember_last_selected_value\":0,\"ignore_xss_filter\":0,\"print_hide_if_no_value\":0,\"allow_bulk_edit\":0,\"in_standard_filter\":0,\"in_preview\":0,\"read_only\":0,\"precision\":\"\",\"length\":0,\"translatable\":0,\"doctype\":\"DocField\"},{\"docstatus\":0,\"doctype\":\"DocField\",\"name\":\"3530d1d4de\",\"owner\":\"Administrator\",\"fieldtype\":\"Datetime\",\"reqd\":0,\"precision\":\"\",\"search_index\":0,\"in_list_view\":0,\"in_standard_filter\":0,\"in_global_search\":0,\"in_preview\":0,\"allow_in_quick_entry\":0,\"bold\":0,\"translatable\":0,\"collapsible\":0,\"fetch_if_empty\":0,\"hidden\":0,\"read_only\":0,\"unique\":0,\"set_only_once\":0,\"allow_bulk_edit\":0,\"permlevel\":0,\"ignore_user_permissions\":0,\"allow_on_submit\":0,\"report_hide\":0,\"remember_last_selected_value\":0,\"ignore_xss_filter\":0,\"in_filter\":0,\"no_copy\":0,\"print_hide\":0,\"print_hide_if_no_value\":0,\"parent\":\"BGL Point Of Sale\",\"parentfield\":\"fields\",\"parenttype\":\"DocType\",\"idx\":2,\"label\":\"Date And Time\",\"fieldname\":\"date\",\"creation\":\"2021-04-02 19:24:35.566254\",\"modified\":\"2021-04-02 19:32:04.216824\",\"modified_by\":\"Administrator\",\"columns\":0,\"length\":0},{\"docstatus\":0,\"doctype\":\"DocField\",\"name\":\"561a9ebc27\",\"owner\":\"Administrator\",\"fieldtype\":\"Link\",\"reqd\":0,\"precision\":\"\",\"search_index\":0,\"in_list_view\":0,\"in_standard_filter\":0,\"in_global_search\":0,\"in_preview\":0,\"allow_in_quick_entry\":0,\"bold\":0,\"translatable\":0,\"collapsible\":0,\"fetch_if_empty\":0,\"hidden\":0,\"read_only\":0,\"unique\":0,\"set_only_once\":0,\"allow_bulk_edit\":0,\"permlevel\":0,\"ignore_user_permissions\":0,\"allow_on_submit\":0,\"report_hide\":0,\"remember_last_selected_value\":0,\"ignore_xss_filter\":0,\"in_filter\":0,\"no_copy\":0,\"print_hide\":0,\"print_hide_if_no_value\":0,\"parent\":\"BGL Point Of Sale\",\"parentfield\":\"fields\",\"parenttype\":\"DocType\",\"idx\":3,\"label\":\"Customer\",\"fieldname\":\"customer\",\"options\":\"Customer\",\"creation\":\"2021-04-02 19:24:35.566254\",\"modified\":\"2021-04-02 19:32:04.216824\",\"modified_by\":\"Administrator\",\"columns\":0,\"length\":0},{\"docstatus\":0,\"doctype\":\"DocField\",\"name\":\"9d7cd9026a\",\"owner\":\"Administrator\",\"fieldtype\":\"Section Break\",\"reqd\":0,\"precision\":\"\",\"search_index\":0,\"in_list_view\":0,\"in_standard_filter\":0,\"in_global_search\":0,\"in_preview\":0,\"allow_in_quick_entry\":0,\"bold\":0,\"translatable\":0,\"collapsible\":0,\"fetch_if_empty\":0,\"hidden\":0,\"read_only\":0,\"unique\":0,\"set_only_once\":0,\"allow_bulk_edit\":0,\"permlevel\":0,\"ignore_user_permissions\":0,\"allow_on_submit\":0,\"report_hide\":0,\"remember_last_selected_value\":0,\"ignore_xss_filter\":0,\"in_filter\":0,\"no_copy\":0,\"print_hide\":0,\"print_hide_if_no_value\":0,\"parent\":\"BGL Point Of Sale\",\"parentfield\":\"fields\",\"parenttype\":\"DocType\",\"idx\":4,\"label\":\"Address and Contact\",\"fieldname\":\"address_and_contact\",\"creation\":\"2021-04-02 19:24:35.566254\",\"modified\":\"2021-04-02 19:32:04.216824\",\"modified_by\":\"Administrator\",\"columns\":0,\"length\":0},{\"docstatus\":0,\"doctype\":\"DocField\",\"name\":\"89595d3f44\",\"owner\":\"Administrator\",\"fieldtype\":\"Link\",\"reqd\":0,\"precision\":\"\",\"search_index\":0,\"in_list_view\":0,\"in_standard_filter\":0,\"in_global_search\":0,\"in_preview\":0,\"allow_in_quick_entry\":0,\"bold\":0,\"translatable\":0,\"collapsible\":0,\"fetch_if_empty\":0,\"hidden\":0,\"read_only\":0,\"unique\":0,\"set_only_once\":0,\"allow_bulk_edit\":0,\"permlevel\":0,\"ignore_user_permissions\":0,\"allow_on_submit\":0,\"report_hide\":0,\"remember_last_selected_value\":0,\"ignore_xss_filter\":0,\"in_filter\":0,\"no_copy\":0,\"print_hide\":0,\"print_hide_if_no_value\":0,\"parent\":\"BGL Point Of Sale\",\"parentfield\":\"fields\",\"parenttype\":\"DocType\",\"idx\":5,\"label\":\"Customer Address\",\"fieldname\":\"customer_address\",\"options\":\"Address\",\"creation\":\"2021-04-02 19:24:35.566254\",\"modified\":\"2021-04-02 19:32:04.216824\",\"modified_by\":\"Administrator\",\"columns\":0,\"length\":0,\"fetch_from\":\"customer.customer\"},{\"docstatus\":0,\"doctype\":\"DocField\",\"name\":\"8931218f24\",\"owner\":\"Administrator\",\"fieldtype\":\"Small Text\",\"reqd\":0,\"precision\":\"\",\"search_index\":0,\"in_list_view\":0,\"in_standard_filter\":0,\"in_global_search\":0,\"in_preview\":0,\"allow_in_quick_entry\":0,\"bold\":0,\"translatable\":0,\"collapsible\":0,\"fetch_if_empty\":0,\"hidden\":0,\"read_only\":1,\"unique\":0,\"set_only_once\":0,\"allow_bulk_edit\":0,\"permlevel\":0,\"ignore_user_permissions\":0,\"allow_on_submit\":0,\"report_hide\":0,\"remember_last_selected_value\":0,\"ignore_xss_filter\":0,\"in_filter\":0,\"no_copy\":0,\"print_hide\":0,\"print_hide_if_no_value\":0,\"parent\":\"BGL Point Of Sale\",\"parentfield\":\"fields\",\"parenttype\":\"DocType\",\"idx\":6,\"label\":\"Address\",\"fieldname\":\"address_display\",\"creation\":\"2021-04-02 19:24:35.566254\",\"modified\":\"2021-04-02 19:32:04.216824\",\"modified_by\":\"Administrator\",\"columns\":0,\"length\":0},{\"name\":\"9ca7fdf3d0\",\"creation\":\"2021-04-02 19:32:04.970329\",\"modified\":\"2021-04-02 19:32:04.970329\",\"modified_by\":\"Administrator\",\"owner\":null,\"docstatus\":0,\"parent\":\"BGL Point Of Sale\",\"parentfield\":\"fields\",\"parenttype\":\"DocType\",\"idx\":7,\"fieldname\":\"amended_from\",\"label\":\"Amended From\",\"oldfieldname\":null,\"fieldtype\":\"Link\",\"oldfieldtype\":null,\"options\":\"BGL Point Of Sale\",\"search_index\":0,\"hidden\":0,\"set_only_once\":0,\"allow_in_quick_entry\":0,\"print_hide\":1,\"report_hide\":0,\"reqd\":0,\"bold\":0,\"in_global_search\":0,\"collapsible\":0,\"unique\":0,\"no_copy\":1,\"allow_on_submit\":0,\"show_preview_popup\":null,\"trigger\":null,\"collapsible_depends_on\":null,\"depends_on\":null,\"permlevel\":0,\"ignore_user_permissions\":0,\"width\":null,\"print_width\":null,\"columns\":0,\"default\":null,\"description\":null,\"in_list_view\":0,\"fetch_if_empty\":0,\"in_filter\":0,\"remember_last_selected_value\":0,\"ignore_xss_filter\":0,\"print_hide_if_no_value\":0,\"allow_bulk_edit\":0,\"in_standard_filter\":0,\"in_preview\":0,\"read_only\":1,\"precision\":null,\"length\":0,\"translatable\":0,\"fetch_from\":null,\"doctype\":\"DocField\"}],\"permissions\":[{\"name\":\"1c2355dca4\",\"creation\":\"2021-04-02 19:24:35.566254\",\"modified\":\"2021-04-02 19:32:04.216824\",\"modified_by\":\"Administrator\",\"owner\":\"Administrator\",\"docstatus\":0,\"parent\":\"BGL Point Of Sale\",\"parentfield\":\"permissions\",\"parenttype\":\"DocType\",\"idx\":1,\"permlevel\":0,\"role\":\"System Manager\",\"read\":1,\"write\":1,\"create\":1,\"submit\":1,\"cancel\":0,\"delete\":1,\"amend\":0,\"report\":1,\"export\":1,\"import\":0,\"share\":1,\"print\":1,\"email\":1,\"if_owner\":0,\"set_user_permissions\":0,\"doctype\":\"DocPerm\"},{\"name\":\"53f003b0cd\",\"creation\":\"2021-04-02 19:24:35.566254\",\"modified\":\"2021-04-02 19:32:04.216824\",\"modified_by\":\"Administrator\",\"owner\":\"Administrator\",\"docstatus\":0,\"parent\":\"BGL Point Of Sale\",\"parentfield\":\"permissions\",\"parenttype\":\"DocType\",\"idx\":2,\"permlevel\":0,\"role\":\"Administrator\",\"read\":1,\"write\":1,\"create\":1,\"submit\":0,\"cancel\":0,\"delete\":1,\"amend\":0,\"report\":1,\"export\":1,\"import\":0,\"share\":1,\"print\":1,\"email\":1,\"if_owner\":0,\"set_user_permissions\":0,\"doctype\":\"DocPerm\"}],\"__unsaved\":1}"
}
Request Error
Traceback (most recent call last):
  File "/home/frappe/frappe-bench/apps/frappe/frappe/app.py", line 67, in application
    response = frappe.api.handle()
  File "/home/frappe/frappe-bench/apps/frappe/frappe/api.py", line 59, in handle
    return frappe.handler.handle()
  File "/home/frappe/frappe-bench/apps/frappe/frappe/handler.py", line 24, in handle
    data = execute_cmd(cmd)
  File "/home/frappe/frappe-bench/apps/frappe/frappe/handler.py", line 64, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "/home/frappe/frappe-bench/apps/frappe/frappe/__init__.py", line 1071, in call
    return fn(*args, **newargs)
  File "/home/frappe/frappe-bench/apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "/home/frappe/frappe-bench/apps/frappe/frappe/model/document.py", line 273, in save
    return self._save(*args, **kwargs)
  File "/home/frappe/frappe-bench/apps/frappe/frappe/model/document.py", line 326, in _save
    self.run_post_save_methods()
  File "/home/frappe/frappe-bench/apps/frappe/frappe/model/document.py", line 927, in run_post_save_methods
    self.run_method("on_update")
  File "/home/frappe/frappe-bench/apps/frappe/frappe/model/document.py", line 797, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "/home/frappe/frappe-bench/apps/frappe/frappe/model/document.py", line 1073, in composer
    return composed(self, method, *args, **kwargs)
  File "/home/frappe/frappe-bench/apps/frappe/frappe/model/document.py", line 1056, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "/home/frappe/frappe-bench/apps/frappe/frappe/model/document.py", line 791, in <lambda>
    fn = lambda self, *args, **kwargs: getattr(self, method)(*args, **kwargs)
  File "/home/frappe/frappe-bench/apps/frappe/frappe/core/doctype/doctype/doctype.py", line 287, in on_update
    self.update_fields_to_fetch()
  File "/home/frappe/frappe-bench/apps/frappe/frappe/core/doctype/doctype/doctype.py", line 177, in update_fields_to_fetch
    frappe.db.sql(query)
  File "/home/frappe/frappe-bench/apps/frappe/frappe/database/database.py", line 171, in sql
    self._cursor.execute(query)
  File "/home/frappe/frappe-bench/env/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/home/frappe/frappe-bench/env/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/home/frappe/frappe-bench/env/lib/python3.6/site-packages/pymysql/connections.py", line 517, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/frappe/frappe-bench/env/lib/python3.6/site-packages/pymysql/connections.py", line 732, in _read_query_result
    result.read()
  File "/home/frappe/frappe-bench/env/lib/python3.6/site-packages/pymysql/connections.py", line 1075, in read
    first_packet = self.connection._read_packet()
  File "/home/frappe/frappe-bench/env/lib/python3.6/site-packages/pymysql/connections.py", line 684, in _read_packet
    packet.check_error()
  File "/home/frappe/frappe-bench/env/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/frappe/frappe-bench/env/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column 'source.customer' in 'field list'")
